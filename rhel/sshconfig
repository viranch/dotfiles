Include ~/.dotfiles/common/sshconfig

# for init_ssh to work
ControlPersist yes
StrictHostKeyChecking no

# *.linkedin.com *bssh* eng-portal*
Host xbox
    User vimehta
    IdentityFile ~/.ssh/li_key2
    StrictHostKeyChecking no
    ForwardAgent yes
    GSSAPIAuthentication no
    ControlPath ~/.ssh/cm_socket/%r@%h:%p

Host *bssh*
    ControlPath ~/.ssh/cm_socket/%r@%h:%p
    LocalForward 19200 ltx1-app11624.prod.linkedin.com:9200
    LocalForward 29200 ltx1-app11990.prod.linkedin.com:9200

Host *prod *prod.linkedin.com *prod.linkedin.com. *stg *stg.linkedin.com *stg.linkedin.com. *app*.corp *app*.corp.linkedin.com *app*.corp.linkedin.com. gitli.corp.linkedin.com svn.corp.linkedin.com
    User vimehta
    IdentityFile ~/.ssh/li_key2
    GSSAPIAuthentication yes
    GSSAPIDelegateCredentials yes
    #ProxyCommand bash -c "ssh $(bastion %h | sed 's/02/01/g') nc %h %p" 2> /dev/null
    ProxyCommand bash -c "ssh lva1-bssh01.corp.linkedin.com nc %h %p" 2> /dev/null
    ControlPath ~/.ssh/cm_socket/%r@%h:%p

Host grid-portal.corp.linkedin.com
    ControlPath /home/vimehta/.ssh/dpf-c2ae63-vimehta-41923@85975a:22

Host *.grid.linkedin.com *.grid.linkedin.com.
    GSSAPIAuthentication yes
    GSSAPIDelegateCredentials yes
    ProxyCommand bash -c "ssh -KAT grid-portal.corp.linkedin.com nc %h %p" 2> /dev/null
    ControlPath ~/.ssh/cm_socket/%r@%h:%p
